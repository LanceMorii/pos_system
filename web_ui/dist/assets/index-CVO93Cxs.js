import{d as y,r as w,a as N,c as P,b as n,e as o,w as a,f as h,g as i,o as k,h as p,E as c,u as U,_ as z}from"./index-DhDhwFZx.js";const C={class:"register-container"},q={class:"register-form"},E={class:"login-link"},R=y({__name:"index",setup(F){const g=U(),d=w(),m=w(!1),r=N({username:"",password:"",confirmPassword:"",realName:"",phone:"",email:"",role:"cashier"}),_={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(u,e,l)=>{e===""?l(new Error("请再次输入密码")):e!==r.password?l(new Error("两次输入密码不一致")):l()},trigger:"blur"}],realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},f=async()=>{if(d.value)try{await d.value.validate(),m.value=!0,await new Promise(e=>setTimeout(e,1e3));const u={username:r.username,password:r.password,realName:r.realName,phone:r.phone,email:r.email,role:r.role,status:"active"};c.success("注册成功，请登录"),g.push("/login")}catch(u){console.error("注册失败:",u),c.error("注册失败，请重试")}finally{m.value=!1}},V=()=>{g.push("/login")};return(u,e)=>{const l=i("el-input"),t=i("el-form-item"),v=i("el-button"),x=i("el-link"),b=i("el-form");return k(),P("div",C,[n("div",q,[e[9]||(e[9]=n("div",{class:"register-header"},[n("h2",null,"智慧超市系统"),n("p",null,"用户注册")],-1)),o(b,{ref_key:"registerFormRef",ref:d,model:r,rules:_,class:"register-form-content",onKeyup:h(f,["enter"])},{default:a(()=>[o(t,{prop:"username"},{default:a(()=>[o(l,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=s=>r.username=s),placeholder:"请输入用户名","prefix-icon":"User",size:"large"},null,8,["modelValue"])]),_:1}),o(t,{prop:"password"},{default:a(()=>[o(l,{modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=s=>r.password=s),type:"password",placeholder:"请输入密码","prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue"])]),_:1}),o(t,{prop:"confirmPassword"},{default:a(()=>[o(l,{modelValue:r.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=s=>r.confirmPassword=s),type:"password",placeholder:"请确认密码","prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue"])]),_:1}),o(t,{prop:"realName"},{default:a(()=>[o(l,{modelValue:r.realName,"onUpdate:modelValue":e[3]||(e[3]=s=>r.realName=s),placeholder:"请输入真实姓名","prefix-icon":"UserFilled",size:"large"},null,8,["modelValue"])]),_:1}),o(t,{prop:"phone"},{default:a(()=>[o(l,{modelValue:r.phone,"onUpdate:modelValue":e[4]||(e[4]=s=>r.phone=s),placeholder:"请输入手机号","prefix-icon":"Phone",size:"large"},null,8,["modelValue"])]),_:1}),o(t,{prop:"email"},{default:a(()=>[o(l,{modelValue:r.email,"onUpdate:modelValue":e[5]||(e[5]=s=>r.email=s),placeholder:"请输入邮箱","prefix-icon":"Message",size:"large"},null,8,["modelValue"])]),_:1}),o(t,null,{default:a(()=>[o(v,{type:"primary",size:"large",class:"register-button",loading:m.value,onClick:f},{default:a(()=>e[6]||(e[6]=[p(" 注册 ")])),_:1,__:[6]},8,["loading"])]),_:1}),n("div",E,[e[8]||(e[8]=p(" 已有账号？")),o(x,{type:"primary",onClick:V},{default:a(()=>e[7]||(e[7]=[p("立即登录")])),_:1,__:[7]})])]),_:1},8,["model"]),e[10]||(e[10]=n("div",{class:"register-footer"},[n("p",null,"智慧超市管理系统 v1.0")],-1))])])}}}),T=z(R,[["__scopeId","data-v-975249f3"]]);export{T as default};
