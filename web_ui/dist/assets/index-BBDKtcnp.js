import{d as N,i as x,j as T,k as U,c as V,e,w as o,g as l,o as F,b as n,l as d,m as R,n as j,p as q,s as z,q as A,t as D,v as G,x as H,h as _,y as J,z as K,u as L,E as f,A as O,_ as P}from"./index-DhDhwFZx.js";import{u as Q,g as W}from"./user-c84Z4Oim.js";import"./request-Bb0hX5IM.js";const X={class:"app-container"},Y={class:"header-left"},Z={class:"header-right"},$={class:"el-dropdown-link"},ee=N({__name:"index",setup(oe){const p=T(),i=L(),r=Q(),v=x(()=>p.path),m=x(()=>r.userInfo);U(async()=>{if(!r.userInfo.id)try{const s=await W();r.setUserInfo(s.data)}catch(s){console.error("获取用户信息失败",s)}});const w=()=>{i.push("/dashboard/cashier"),f({type:"success",message:"正在跳转到收银台..."})},b=s=>{console.log("菜单选择:",s),p.path!==s&&i.push(s).catch(t=>{console.error("路由跳转失败:",t)})},h=s=>{s==="logout"?O.confirm("确认退出登录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{r.logout(),i.push("/login"),f({type:"success",message:"退出登录成功"})}).catch(()=>{}):s==="profile"&&f({type:"info",message:"功能开发中..."})};return(s,t)=>{const a=l("el-icon"),u=l("el-menu-item"),y=l("el-menu"),C=l("el-aside"),k=l("el-button"),c=l("el-dropdown-item"),B=l("el-dropdown-menu"),I=l("el-dropdown"),E=l("el-header"),M=l("router-view"),S=l("el-main"),g=l("el-container");return F(),V("div",X,[e(g,null,{default:o(()=>[e(C,{width:"220px"},{default:o(()=>[t[8]||(t[8]=n("div",{class:"logo"},[n("h2",null,"智慧超市系统")],-1)),e(y,{"default-active":v.value,class:"el-menu-vertical","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF",router:"",onSelect:b},{default:o(()=>[e(u,{index:"/dashboard/home"},{default:o(()=>[e(a,null,{default:o(()=>[e(d(R))]),_:1}),t[0]||(t[0]=n("span",null,"首页",-1))]),_:1,__:[0]}),e(u,{index:"/dashboard/product"},{default:o(()=>[e(a,null,{default:o(()=>[e(d(j))]),_:1}),t[1]||(t[1]=n("span",null,"商品管理",-1))]),_:1,__:[1]}),e(u,{index:"/dashboard/inventory"},{default:o(()=>[e(a,null,{default:o(()=>[e(d(q))]),_:1}),t[2]||(t[2]=n("span",null,"库存管理",-1))]),_:1,__:[2]}),e(u,{index:"/dashboard/supplier"},{default:o(()=>[e(a,null,{default:o(()=>[e(d(z))]),_:1}),t[3]||(t[3]=n("span",null,"供应商管理",-1))]),_:1,__:[3]}),e(u,{index:"/dashboard/user"},{default:o(()=>[e(a,null,{default:o(()=>[e(d(A))]),_:1}),t[4]||(t[4]=n("span",null,"用户管理",-1))]),_:1,__:[4]}),e(u,{index:"/dashboard/cashier"},{default:o(()=>[e(a,null,{default:o(()=>[e(d(D))]),_:1}),t[5]||(t[5]=n("span",null,"收银台",-1))]),_:1,__:[5]}),e(u,{index:"/dashboard/member"},{default:o(()=>[e(a,null,{default:o(()=>[e(d(G))]),_:1}),t[6]||(t[6]=n("span",null,"会员管理",-1))]),_:1,__:[6]}),e(u,{index:"/dashboard/system-status"},{default:o(()=>[e(a,null,{default:o(()=>[e(d(H))]),_:1}),t[7]||(t[7]=n("span",null,"系统状态",-1))]),_:1,__:[7]})]),_:1},8,["default-active"])]),_:1,__:[8]}),e(g,null,{default:o(()=>[e(E,null,{default:o(()=>[n("div",Y,[e(k,{type:"primary",onClick:w},{default:o(()=>t[9]||(t[9]=[_("直接跳转到收银台")])),_:1,__:[9]})]),n("div",Z,[e(I,{onCommand:h},{dropdown:o(()=>[e(B,null,{default:o(()=>[e(c,{command:"profile"},{default:o(()=>t[10]||(t[10]=[_("个人信息")])),_:1,__:[10]}),e(c,{command:"logout"},{default:o(()=>t[11]||(t[11]=[_("退出登录")])),_:1,__:[11]})]),_:1})]),default:o(()=>[n("span",$,[_(J(m.value.realName||m.value.username)+" ",1),e(a,{class:"el-icon--right"},{default:o(()=>[e(d(K))]),_:1})])]),_:1})])]),_:1}),e(S,null,{default:o(()=>[e(M)]),_:1})]),_:1})]),_:1})])}}}),se=P(ee,[["__scopeId","data-v-04ec39d2"]]);export{se as default};
